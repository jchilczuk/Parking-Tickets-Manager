<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parking App</title>
  </head>
  <body>
    <noscript>Potrzebujesz JavaScript, aby uruchomić tę aplikację.</noscript>
    <div id="root"></div>
      <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(registrations => {
        // Wyczyść wszystkie stare SW (zapobiega duplikacji)
        for (const reg of registrations) {
          reg.unregister();
        }

        // Zarejestruj nowy tylko raz
        navigator.serviceWorker
          .register('/firebase-messaging-sw.js')
          .then(reg => {
            console.log('[SW] Zarejestrowano nowy Service Worker:', reg);
          })
          .catch(err => {
            console.error('[SW] Błąd podczas rejestracji SW:', err);
          });
      });
    }
    </script>
  </body>
</html>
